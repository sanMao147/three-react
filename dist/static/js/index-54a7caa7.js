import{j as e,a as t,F as o}from"./index-c58a0411.js";import{Scene as r,PerspectiveCamera as i,WebGLRenderer as s,ACESFilmicToneMapping as n,TextureLoader as a,NearestFilter as c,MeshToonMaterial as m,Mesh as l,TorusGeometry as d,ConeGeometry as p,TorusKnotGeometry as h,DirectionalLight as w,BufferGeometry as j,BufferAttribute as u,PointsMaterial as f,Points as g,Group as y,Clock as b}from"three";import{O as x,T as v}from"./three-4ef8ad6b.js";import{u as k,a as C,O as M}from"./react-router-e3d7600c.js";import{B as N,D as z}from"./antd-476e0e22.js";import"./react-a184441f.js";import"./react-dom-714ddeef.js";import"./react-router-dom-fb051d2a.js";import"./@remix-run-7a90bf55.js";import"./rc-util-1ed7d15f.js";import"./react-is-554aa597.js";import"./@babel-ebff8eee.js";import"./classnames-6d47fc8c.js";import"./rc-resize-observer-9fa4d667.js";import"./resize-observer-polyfill-4ed993c7.js";import"./rc-motion-b896e247.js";import"./@ant-design-1d6698c7.js";import"./@emotion-99675243.js";import"./stylis-68087142.js";import"./@ctrl-f501ea2e.js";import"./rc-dialog-b88b3709.js";import"./rc-select-f7aa4732.js";import"./rc-overflow-80d046f4.js";import"./rc-virtual-list-80d046f4.js";import"./rc-menu-64d35591.js";import"./rc-trigger-121373f3.js";import"./rc-align-94a13cb0.js";import"./rc-checkbox-373cf787.js";import"./rc-picker-bb43c119.js";import"./dayjs-4ed993c7.js";import"./rc-cascader-405fa497.js";import"./rc-tree-69977730.js";import"./rc-collapse-b88b3709.js";import"./rc-drawer-4ef9e82a.js";import"./@rc-component-224fb8a7.js";import"./rc-field-form-e40c21a2.js";import"./async-validator-455bc203.js";import"./rc-pagination-b72ca67d.js";import"./rc-image-b790b6c1.js";import"./rc-input-number-8eeef316.js";import"./rc-mentions-b8d1a79f.js";import"./qrcode.react-4ed993c7.js";import"./rc-segmented-2430750e.js";import"./rc-switch-3b370247.js";import"./rc-table-f075b541.js";import"./rc-tree-select-2ad82dde.js";import"./rc-upload-373cf787.js";const R=()=>{let o=React.useRef(null);React.useEffect((()=>{k()}),[]);const k=()=>{const e={width:window.innerWidth,height:window.innerHeight},t="#ffeded",k=new r,C=new i(75,e.width/e.height,1,1e3);C.position.set(0,0,16),k.add(C);const M=new s({canvas:o.current,antialias:!0});M.setPixelRatio(Math.min(window.devicePixelRatio,2)),M.setSize(e.width,e.height),M.toneMapping=n;const N=new x(C,o.current);N.target.set(0,0,0),N.enableDamping=!0,N.enablePan=!1,window.addEventListener("resize",(()=>{C.aspect=window.innerWidth/window.innerHeight,C.updateProjectionMatrix(),M.setSize(window.innerWidth,window.innerHeight)}),!1);const z=new a,R=z.load("/three-react/static/jpg/3-11dace94.jpg");R.magFilter=c;const E=new m({color:t,gradientMap:R}),F=new l(new d(1,.4,16,60),E),G=new l(new p(1,2,32),E),P=new l(new h(.8,.35,100,16),E);F.position.x=2,G.position.x=-2,P.position.x=2,F.position.y=-0,G.position.y=-4,P.position.y=-8,k.add(F,G,P);const S=[F,G,P],T=new w("#ffffff",1);T.position.set(1,1,0),k.add(T);const A=new Float32Array(600);for(let o=0;o<200;o++)A[3*o+0]=10*(Math.random()-.5),A[3*o+1]=2-4*Math.random()*S.length,A[3*o+2]=10*(Math.random()-.5);const B=new j;B.setAttribute("position",new u(A,3));const I=new f({color:t,sizeAttenuation:z,size:.03}),L=new g(B,I);k.add(L);const W=new y;k.add(W),C.position.z=4,W.add(C);let Y=window.scrollY,q=0;window.addEventListener("scroll",(()=>{Y=window.scrollY;const t=Math.round(Y/e.height);if(t!=q){q=t;var o=new v.Tween(S[q].rotation);o.to({x:"+=6",y:"+=3",z:"+=1.5"}),o.easing(v.Easing.Cubic.InOut)}}));const D={x:0,y:0};window.addEventListener("mousemove",(t=>{D.x=t.clientX/e.width-.5,D.y=t.clientY/e.height-.5}));const H=new b;let O=0;const K=()=>{const t=H.getElapsedTime(),o=t-O;O=t,C.position.y=-Y/e.height*4;const r=.5*D.x,i=.5*-D.y;W.position.x+=5*(r-W.position.x)*o,W.position.y+=5*(i-W.position.y)*o;for(const e of S)e.rotation.x+=.1*o,e.rotation.y+=.12*o;M.render(k,C),requestAnimationFrame(K)};K()};return e("div",{className:"dashboardPage",children:[t("canvas",{className:"homeGl",ref:o}),t("section",{className:"section",children:t("h2",{children:"首页展示"})}),t("section",{className:"section",children:t("h2",{children:"作品简介"})}),t("section",{className:"section",children:t("h2",{children:"底部展示"})})]})},E=()=>{const[r,i]=React.useState(!1),[s,n]=React.useState(!1),a=k(),{pathname:c}=C();React.useEffect((()=>{n("/home"!==c)}),[c]);const m=e=>{switch(e){case"sea":a("/home/ocean");break;case"nature":a("/home/nature");break;case"earth":a("/home/earth");break;case"world":a("/home/world");break;default:a("/home")}i(!1)};return e(o,{children:[t(N,{className:"nav",type:"primary",onClick:()=>{i(!0)},children:"导航"}),e(z,{bodyStyle:{backgroundColor:"#3F51B6",color:"#fff"},headerStyle:{backgroundColor:"#3F51B6",color:"#fff"},title:"页面菜单",placement:"left",onClose:()=>{i(!1)},open:r,children:[s?t("p",{className:"drawItem",onClick:()=>m("home"),children:"返回首页"}):"",t("p",{className:"drawItem",onClick:()=>m("sea"),children:"海岛风情"}),t("p",{className:"drawItem",onClick:()=>m("nature"),children:"自然风光"}),t("p",{className:"drawItem",onClick:()=>m("earth"),children:"数字地球"}),t("p",{className:"drawItem",onClick:()=>m("world"),children:"中国地图"})]})]})},F=()=>{const{pathname:r}=C();return e(o,{children:[t(E,{}),"/home"==r?t(R,{}):"",t(M,{})]})};export{F as default};
