import{d as t,c as e}from"./@babel-ebff8eee.js";import{c as n,b as r,g as c,u as o,r as a,s as u,d as i}from"./rc-util-1ed7d15f.js";import"./classnames-6d47fc8c.js";import"./rc-motion-b896e247.js";import"./rc-resize-observer-9fa4d667.js";import"./react-is-554aa597.js";var l=React.createContext(null),f=[],s="rc-util-locker-".concat(Date.now()),d=0;var m=!1,v=function(t){return!1!==t&&(n()&&t?"string"==typeof t?document.querySelector(t):"function"==typeof t?t():t:null)},R=React.forwardRef((function(R,p){var h=R.open,b=R.autoLock,y=R.getContainer;R.debug;var E=R.autoDestroy,g=void 0===E||E,w=R.children,j=React.useState(h),S=t(j,2),C=S[0],x=S[1],D=C||h;React.useEffect((function(){(g||h)&&x(h)}),[h,g]);var H=React.useState((function(){return v(y)})),P=t(H,2),k=P[0],W=P[1];React.useEffect((function(){var t=v(y);W(null!=t?t:null)}));var q,z,L,M,O=function(c,o){var a=React.useState((function(){return n()?document.createElement("div"):null})),u=t(a,1)[0],i=React.useRef(!1),s=React.useContext(l),d=React.useState(f),m=t(d,2),v=m[0],R=m[1],p=s||(i.current?void 0:function(t){R((function(n){return[t].concat(e(n))}))});function h(){u.parentElement||document.body.appendChild(u),i.current=!0}function b(){var t;null===(t=u.parentElement)||void 0===t||t.removeChild(u),i.current=!1}return r((function(){return c?s?s(h):h():b(),b}),[c]),r((function(){v.length&&(v.forEach((function(t){return t()})),R(f))}),[v]),[u,p]}(D&&!k),_=t(O,2),A=_[0],B=_[1],F=null!=k?k:A;q=b&&h&&n()&&(F===A||F===document.body),z=!!q,L=React.useState((function(){return d+=1,"".concat(s,"_").concat(d)})),M=t(L,1)[0],r((function(){if(z){var t=c(),e=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;o("\nhtml body {\n  overflow-y: hidden;\n  ".concat(e?"width: calc(100% - ".concat(t,"px);"):"","\n}"),M)}else a(M);return function(){a(M)}}),[z,M]);var G=null;w&&u(w)&&p&&(G=w.ref);var I=i(G,p);if(!D||!n()||void 0===k)return null;var J=!1===F||m,K=w;return p&&(K=React.cloneElement(w,{ref:I})),React.createElement(l.Provider,{value:B},J?K:ReactDOM.createPortal(K,F))}));export{R as P};
