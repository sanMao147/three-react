import{d as t,c as e}from"./@babel-ebff8eee.js";import{r as n}from"./react-aa034a1c.js";import{r}from"./react-dom-67b4aaa0.js";import{c as o,b as c,g as u,u as a,r as i,s as l,d as f}from"./rc-util-fd3bf20b.js";import"./classnames-46b2866a.js";import"./rc-motion-0b6d8135.js";import"./rc-resize-observer-154f2093.js";import"./react-is-554aa597.js";var s=n.createContext(null),d=[],m="rc-util-locker-".concat(Date.now()),v=0;var p=!1,h=function(t){return!1!==t&&(o()&&t?"string"==typeof t?document.querySelector(t):"function"==typeof t?t():t:null)},b=n.forwardRef((function(b,y){var E=b.open,g=b.autoLock,j=b.getContainer;b.debug;var w=b.autoDestroy,S=void 0===w||w,C=b.children,x=n.useState(E),H=t(x,2),P=H[0],k=H[1],D=P||E;n.useEffect((function(){(S||E)&&k(E)}),[E,S]);var R=n.useState((function(){return h(j)})),W=t(R,2),q=W[0],z=W[1];n.useEffect((function(){var t=h(j);z(null!=t?t:null)}));var L,_,A,B,F=function(r,u){var a=n.useState((function(){return o()?document.createElement("div"):null})),i=t(a,1)[0],l=n.useRef(!1),f=n.useContext(s),m=n.useState(d),v=t(m,2),p=v[0],h=v[1],b=f||(l.current?void 0:function(t){h((function(n){return[t].concat(e(n))}))});function y(){i.parentElement||document.body.appendChild(i),l.current=!0}function E(){var t;null===(t=i.parentElement)||void 0===t||t.removeChild(i),l.current=!1}return c((function(){return r?f?f(y):y():E(),E}),[r]),c((function(){p.length&&(p.forEach((function(t){return t()})),h(d))}),[p]),[i,b]}(D&&!q),G=t(F,2),I=G[0],J=G[1],K=null!=q?q:I;L=g&&E&&o()&&(K===I||K===document.body),_=!!L,A=n.useState((function(){return v+=1,"".concat(m,"_").concat(v)})),B=t(A,1)[0],c((function(){if(_){var t=u(),e=document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth;a("\nhtml body {\n  overflow-y: hidden;\n  ".concat(e?"width: calc(100% - ".concat(t,"px);"):"","\n}"),B)}else i(B);return function(){i(B)}}),[_,B]);var M=null;C&&l(C)&&y&&(M=C.ref);var N=f(M,y);if(!D||!o()||void 0===q)return null;var O=!1===K||p,Q=C;return y&&(Q=n.cloneElement(C,{ref:N})),n.createElement(s.Provider,{value:J},O?Q:r.createPortal(Q,K))}));export{b as P};
